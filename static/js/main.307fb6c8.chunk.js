(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(45),c=n.n(o),u=(n(58),n(2)),s=n.n(u),i=n(26),l=n(50),p=n(6),d=n(46),f=n(47),m=n(51),b=n(48),h=n(52),v=n(27),w="https://8q59dxk0l3.execute-api.ap-southeast-2.amazonaws.com/dev",y=function(){var t=Object(p.a)(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(w,"/mood"));case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(p.a)(s.a.mark(function t(e){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Posting mood",e),t.next=4,fetch("".concat(w,"/mood"),{method:"POST",body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,console.log("Updated mood",r),t.abrupt("return",r);case 12:return t.prev=12,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(p.a)(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(w,"/history"));case 3:return e=t.sent,t.next=6,e.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),x={question:"How do you feel today?",options:[{id:"red",label:"bad",button:"btn-danger",color:"#dc3545"},{id:"yellow",label:"normal",button:"btn-warning",color:"#ffc107"},{id:"green",label:"great",button:"btn-success",color:"#28a745"}]},O=function(t){var e=t.onSelect;return a.a.createElement("div",null,x.options.map(function(t){return a.a.createElement("button",{key:t.id,className:"btn ".concat(t.button," btn-xl m-2"),onClick:function(){return e(t.id)}},t.label)}))},k=function(t){var e=t.mood;return a.a.createElement(v.b,{options:{maintainAspectRatio:!1,legend:!1,rotation:1.57},data:{labels:x.options.map(function(t){return t.label}),datasets:[{data:e&&x.options.map(function(t){return e[t.id]}),backgroundColor:x.options.map(function(t){return t.color})}]}})},E=function(t){function e(){var t,n;Object(d.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(t=Object(b.a)(e)).call.apply(t,[this].concat(a)))).state={history:null,todayMood:null},n.renderUserMood=function(t){var e=n.state.todayMood;e[t]++,n.setState({todayMood:e})},n.handleSelect=function(){var t=Object(p.a)(s.a.mark(function t(e){var r,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.renderUserMood(e),r=Object.assign.apply(Object,[{}].concat(Object(l.a)(x.options.map(function(t){var n;return n={},Object(i.a)(n,t.id,0),Object(i.a)(n,e,1),n})))),t.next=4,g(r);case 4:a=t.sent,n.setState({todayMood:a});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n}return Object(h.a)(e,t),Object(f.a)(e,[{key:"componentDidMount",value:function(){var t=Object(p.a)(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return e=t.sent,t.next=5,j();case 5:n=t.sent,this.setState({todayMood:e,history:n});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("header",null,a.a.createElement("a",{href:"https://github.com/slavagu/moodometer"},"moodometer")),a.a.createElement("div",{className:"app-content"},a.a.createElement("p",null,x.question),a.a.createElement(O,{onSelect:this.handleSelect})),a.a.createElement("footer",null,a.a.createElement(k,{mood:this.state.todayMood})))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},53:function(t,e,n){t.exports=n(155)},58:function(t,e,n){}},[[53,1,2]]]);
//# sourceMappingURL=main.307fb6c8.chunk.js.map