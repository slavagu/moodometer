(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(61),c=n.n(o),l=(n(70),n(13)),u=n(1),s=n(4),i=n.n(s),p=n(39),m=n(64),d=n(10),f=n(24),h=n(25),b=n(27),v=n(26),y=n(28),w="https://32dawtw292.execute-api.ap-southeast-2.amazonaws.com",E=function(){var e=Object(d.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(w,"/mood"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Posting mood",t),e.next=4,fetch("".concat(w,"/mood"),{method:"POST",body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,console.log("Updated mood",a),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(w,"/history"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),O={question:"How do you feel today?",options:[{id:"red",label:"bad",button:"btn-danger",color:"#dc3545"},{id:"yellow",label:"normal",button:"btn-warning",color:"#ffc107"},{id:"green",label:"great",button:"btn-success",color:"#28a745"}]},x=function(e){var t=e.onSelect;return r.a.createElement("div",null,O.options.map(function(e){return r.a.createElement("button",{key:e.id,className:"btn ".concat(e.button," btn-xl m-2"),onClick:function(){return t(e.id)}},e.label)}))},k=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleSelect=function(){var e=Object(d.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign.apply(Object,[{}].concat(Object(m.a)(O.options.map(function(e){var n;return n={},Object(p.a)(n,e.id,0),Object(p.a)(n,t,1),n})))),e.next=3,g(n);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("a",{href:"https://github.com/slavagu/moodometer"},"moodometer")),r.a.createElement("div",{className:"app-content"},r.a.createElement("p",null,O.question),r.a.createElement(x,{onSelect:this.handleSelect})),r.a.createElement("footer",null,r.a.createElement(l.b,{to:"/report"},"Report")))}}]),t}(a.Component),N=n(42),S=function(e){var t=e.mood;return r.a.createElement(N.b,{options:{maintainAspectRatio:!1,legend:!1,rotation:1.57},data:{labels:O.options.map(function(e){return e.label}),datasets:[{data:t&&O.options.map(function(e){return t[e.id]}),backgroundColor:O.options.map(function(e){return e.color})}]}})},C=function(e){var t=e.history;if(!t)return null;var n={labels:t.map(function(e){return e.date}),datasets:O.options.map(function(e){return{label:e.label,type:"line",data:t.map(function(t){return t[e.id]}),fill:!1,borderColor:e.color,backgroundColor:e.color}})};return r.a.createElement(N.a,{data:n,options:{maintainAspectRatio:!1,legend:!1,scales:{yAxes:[{}]}},height:200})},A=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={history:null,todayMood:null},n.refresh=Object(d.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.next=5,j();case 5:a=e.sent,n.setState({todayMood:t,history:a});case 7:case"end":return e.stop()}},e)})),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.refresh(),setInterval(this.refresh,6e4)}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("a",{href:"https://github.com/slavagu/moodometer"},"moodometer")),r.a.createElement("div",{className:"app-content"},r.a.createElement("div",null,r.a.createElement(S,{mood:this.state.todayMood})),r.a.createElement("p",{className:"font-weight-light text-muted"},"today"),r.a.createElement("div",{className:"h-50"},r.a.createElement(C,{history:this.state.history}))),r.a.createElement("footer",null,r.a.createElement(l.b,{to:"/vote"},"Home")))}}]),t}(a.Component),M=function(){return r.a.createElement(l.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:k}),r.a.createElement(u.b,{path:"/report",component:A}),r.a.createElement(u.a,{from:"*",to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(169)},70:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.9b8e16a4.chunk.js.map